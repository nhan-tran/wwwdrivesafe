@model IEnumerable<wwwdrivesafe.Models.Location_Log>

@{
    ViewBag.Title = "Index";
}

<h2>Location History</h2>

<table id="tblLocationLog" class="display">
	<thead>
		<tr>
			<th>
				Time
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Speed)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Latitude)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Longitude)
			</th>
			<th>
				Map
			</th>
			@*<th>
				@Html.DisplayNameFor(model => model.Synced)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Bearing)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Accuracy)
			</th>*@
			<th>
				@Html.DisplayNameFor(model => model.Membership_Id)
			</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var item in Model)
		{
			string locationLink = "http://maps.google.com/?daddr=" + item.Latitude + "," + item.Longitude;	// static map coords for google maps
			double mph = (item.Speed * 2.23693629);	// meters pers second to miles per hour
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Created_Date)
				</td>
				<td>
					@string.Format("{0:0.00}", mph) mph
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Latitude)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Longitude)
				</td>
				<td>
					<a target="_blank" href="@locationLink">View</a>
				</td>
				@*<td>
					@Html.DisplayFor(modelItem => item.Synced)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Bearing)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Accuracy)
				</td>*@
				<td>
					@Html.DisplayFor(modelItem => item.Membership_Id)
				</td>
			</tr>
		}
	</tbody>
</table>

<script>
	$(document).ready(function () {
		$('#tblLocationLog').DataTable();
	});
</script>